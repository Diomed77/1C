Процедура стар_ПриЗаписи()
	Спр=СоздатьОбъект("Справочник.УпаковкаТоваров");
	Спр.ИспользоватьВладельца(Владелец);
	Спр.ВыбратьЭлементы();
	Можно=1;
	Пока Спр.ПолучитьЭлемент() = 1 Цикл
		Если Спр.ТекущийЭлемент()=ТекущийЭлемент() Тогда
			Продолжить;
		КонецЕсли;
		Если Спр.ПометкаУдаления()=1 Тогда
			Продолжить;
		КонецЕсли;
		Если Спр.ВидУпаковки=ВидУпаковки Тогда
			Можно=0;
			Предупреждение("Уже существует вид упаковки "+ВидУпаковки);
			Прервать;
		КонецЕсли;
	КонецЦикла;
	Если Можно=0 Тогда
		СтатусВозврата(0);
		Возврат;
	КонецЕсли;
КонецПроцедуры

//**********************************************
Процедура ПриВыбореВидаУпаковки()
	ВесБруттоУпаковки=ВидУпаковки.Вес;
КонецПроцедуры
//**********************************************
Процедура ПриОткрытии()
	Параметр = Форма.Параметр;
	Если ТипЗначенияСтр(Параметр)="Перечисление" Тогда
		Если Параметр.Вид()="ТипыУпаковки" Тогда
			Если ТипУпаковки <> Параметр Тогда
				ТипУпаковки=Параметр;
				Форма.ТипУпаковки.Доступность(0);
			КонецЕсли;
			Если ТипУпаковки = Перечисление.ТипыУпаковки.Первичная Тогда
				Если КолВУпаковке <> 1 Тогда
					КолВУпаковке=1;
				КонецЕсли;
			ИначеЕсли ТипУпаковки = Перечисление.ТипыУпаковки.Вторичная Тогда	
				Если КолВУпаковке <> Владелец.ЛогистикаКолВУпаковке Тогда
					КолВУпаковке = Владелец.ЛогистикаКолВУпаковке;
				КонецЕсли;
				Форма.КолВУпаковке.Доступность(0);
			ИначеЕсли ТипУпаковки = Перечисление.ТипыУпаковки.Третичная Тогда
				Если КолВУпаковке  <> Владелец.ЛогистикаКолВУпаковке*Владелец.ЛогистикаКолУпакНаЕвроПалете*Владелец.ЛогистикаКолУпакНаПалетеВРяду Тогда
					КолВУпаковке = Владелец.ЛогистикаКолВУпаковке*Владелец.ЛогистикаКолУпакНаЕвроПалете*Владелец.ЛогистикаКолУпакНаПалетеВРяду;
				КонецЕсли;
			КонецЕсли;
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры
//**********************************************
Процедура ПриЗаписи()
	//Внимание: данная процедура при обновлении Менеджера будет перезаписана заново
	//без сохранения текущего кода !!!
	//Рекомендуем собственные алгоритмы записывать в старую процедуру с префиксом стар_
	ПриИзмененииОбъекта(Контекст, ТекущийЭлемент(), РабочаяДата());
	стар_ПриЗаписи();
КонецПроцедуры
//Конец текста, вставленного Инсталлятором МОД
